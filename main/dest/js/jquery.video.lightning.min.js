// jQuery video lightning
!function(t,i,e,o){function s(i,e){this.element=i,this.settings=t.extend({},d,e),this._defaults=d,this._name=a,this.init()}var a="jqueryVideoLightning",d={id:"y-dQw4w9WgXcQ",width:"640px",height:"390px",autoplay:0,autohide:2,controls:1,iv_load_policy:1,loop:0,modestbranding:0,playlist:"",related:0,showinfo:1,start_time:0,theme:"dark",color:"",byline:1,portrait:1,effectIn:"fadeIn",easeIn:300,easeOut:0,backdrop_color:"#000",backdrop_opacity:1,glow:0,glow_color:"#fff"};return s.prototype={init:function(){function i(){t(this.player(s,t(this).settings),e)}var e,o,s,a;o=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"],e=0,a=".video-target",t(this.element).css("cursor","pointer"),-1==t.inArray(t(this.element).prop("tagName"),o)?(s=t(this.element),s.addClass("video-target")):(t("body").append('<div class="video-target"></div>'),s=t(a),e=1),t(this.element).on("click",t.proxy(i,this))},player:function(i,e,o){function s(t){return B=parseInt(d(t).substring(0,2),16),O=parseInt(d(t).substring(2,4),16),N=parseInt(d(t).substring(4,6),16),{red:B,blue:O,green:N}}function a(t){return t="#"+d(t)}function d(t){return t="#"==t.charAt(0)?t.split("#")[1]:t,3==t.length&&(t+=t),t}var n,r,l,h,p,g,c,v,u,f,m,w,y,b,_,A,I,x,C,k,E,R,M,S,L,T,B,N,O;return i.find(".video-wrapper").is(":visible")?(i.find(".video").remove(),i.find(".video-wrapper").hide(this.settings.easeOut),i.find(".video-wrapper").remove(),1==o&&i.remove(),t(this).destroy):(n="undefined"==typeof i.data("videoId")?this.settings.id:i.data("videoId"),x=n.split("-")[0],x="v"===x||"V"===x?"Vimeo":"Youtube",v=n.split("-")[1],C=i.data("videoWidth")||this.settings.width,c=i.data("videoHeight")||this.settings.height,l=i.data("videoAutoplay")||this.settings.autoplay,r=i.data("videoAutohide")||this.settings.autohide,g=i.data("videoControls")||this.settings.controls,u=i.data("videoIvLoadPolicy")||this.settings.iv_load_policy,f=i.data("videoLoop")||this.settings.loop,m=i.data("videoModestbranding")||this.settings.modestbranding,w=i.data("videoPlaylist")||this.settings.playlist,b=i.data("videoRelated")||this.settings.related,_=i.data("videoShowinfo")||this.settings.showinfo,A=i.data("videoStartTime")||this.settings.start_time,I=i.data("videoTheme")||this.settings.theme,p="Vimeo"==x?i.data("videoColor")||d(this.settings.color):i.data("videoColor")||this.settings.color,h=i.data("videoByline")||this.settings.byline,y=i.data("videoPortrait")||this.settings.portrait,E=t('<embed src="https://www.youtube.com/embed/'+v+"?autoplay="+l+"&autohide="+r+"&controls="+g+"&iv_load_policy="+u+"&loop="+f+"&modestbranding="+m+"&playlist="+w+"&rel="+b+"&showinfo="+_+"&start="+A+"&theme="+I+"&color="+p+'" width="'+C+'" height="'+c+'" frameborder="0" allowfullscreen></embed>'),k=t('<iframe src="http://player.vimeo.com/video/'+v+"?autoplay="+l+"&loop="+f+"&title="+_+"&byline="+h+"&portrait="+y+"&color="+p+'" width="'+C+'" height="'+c+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'),R=this.settings.ease_in,M=this.settings.glow,S=this.settings.glow_color,L=this.settings.backdrop_color,T=this.settings.backdrop_opacity,i.append('<div class="video-wrapper"><div class="video-frame"><div class="video"></div></div></div>'),i.find(".video-wrapper").css({backgroundColor:"rgba("+s(L).red+","+s(L).blue+","+s(L).green+","+T+")"}),i.find(".video-frame").css({width:C,height:c,marginTop:"-"+c.split("p")[0]/2+"px",marginLeft:"-"+C.split("p")[0]/2+"px",boxShadow:"0px 0px "+M+"px "+M/5+"px "+a(S)}),i.find(".video-wrapper").fadeIn(R),"Vimeo"===x?i.find(".video").append(k):i.find(".video").append(E))},destroy:function(){t(this).off(),t(this).removeData()}},t.fn[a]=function(i){return this.each(function(){t.data(this,"plugin_"+a)||t.data(this,"plugin_"+a,new s(this,i))})},this}(jQuery,window,document);